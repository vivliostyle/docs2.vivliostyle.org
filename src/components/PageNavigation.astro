---
/**
 * ページナビゲーションコンポーネント
 * ドキュメントページの前へ/次へリンクを表示
 */
interface Props {
  prevPage?: {
    id: string;
    data: {
      title?: string;
    };
  } | null;
  nextPage?: {
    id: string;
    data: {
      title?: string;
    };
  } | null;
  basePath: string; // e.g., "/en/cli/", "/ja/themes/"
  prevLabel?: string;
  nextLabel?: string;
}

const {
  prevPage,
  nextPage,
  basePath,
  prevLabel = '← Previous',
  nextLabel = 'Next →',
} = Astro.props;

// Remove trailing slash from basePath for consistency
const normalizedBasePath = basePath.endsWith('/') ? basePath.slice(0, -1) : basePath;
---

<nav class="page-navigation">
  <div class="nav-links">
    {prevPage ? (
      <a href={`${normalizedBasePath}/${prevPage.id === 'index' ? '' : prevPage.id + '/'}`} class="nav-link nav-prev">
        <span class="nav-label">{prevLabel}</span>
        <span class="nav-title">{prevPage.data.title || prevPage.id}</span>
      </a>
    ) : (
      <div class="nav-link nav-prev nav-disabled"></div>
    )}
    
    {nextPage ? (
      <a href={`${normalizedBasePath}/${nextPage.id === 'index' ? '' : nextPage.id + '/'}`} class="nav-link nav-next">
        <span class="nav-label">{nextLabel}</span>
        <span class="nav-title">{nextPage.data.title || nextPage.id}</span>
      </a>
    ) : (
      <div class="nav-link nav-next nav-disabled"></div>
    )}
  </div>
</nav>

<style>
  /* Page Navigation */
  .page-navigation {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--color-border, #e5e7eb);
  }
  
  .nav-links {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  
  .nav-link {
    display: flex;
    flex-direction: column;
    padding: 1rem;
    border: 1px solid var(--color-border, #e5e7eb);
    border-radius: 8px;
    text-decoration: none;
    color: var(--color-text, #1f2937);
    transition: border-color 0.2s, background-color 0.2s;
  }
  
  .nav-link:not(.nav-disabled):hover {
    border-color: var(--color-primary, #0066cc);
    background-color: var(--color-bg-hover, #f9fafb);
  }
  
  .nav-link.nav-disabled {
    border: none;
  }
  
  .nav-prev {
    text-align: left;
  }
  
  .nav-next {
    text-align: right;
  }
  
  .nav-label {
    font-size: 0.875rem;
    color: var(--color-primary, #0066cc);
    font-weight: 600;
    margin-bottom: 0.25rem;
  }
  
  .nav-title {
    font-weight: 500;
    color: var(--color-text, #1f2937);
  }
  
  @media (max-width: 640px) {
    .nav-links {
      grid-template-columns: 1fr;
    }
  }
</style>
